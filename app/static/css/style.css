/* Estilo para a barra de progresso, para que não precise ser inline */
.progress-bar-dynamic {
    /* A largura será definida pela variável --progress-width no HTML */
    width: var(--progress-width, 0%);
    transition: width 0.6s ease; /* Adiciona uma transição suave */
}

/* =================================
   ESTILOS DOS CARDS DO PAINEL
   ================================= */

/* Classe base para todos os cards do nosso painel */
.dashboard-card {
    border: 1px solid #e9ecef; /* Borda sutil */
    border-radius: 0.5rem;     /* Cantos um pouco mais arredondados */
    box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    height: 100%;
    /* display: flex e flex-direction: column foram removidos para não conflitar com o Isotope. */
}

/* Estilo para o cabeçalho dos cards */
.dashboard-card .card-header {
    background-color: #f8f9fa; /* Fundo cinza bem claro */
    padding: 0.75rem 1rem;
    font-weight: 500;
    border-bottom: 1px solid #e9ecef;
}

/* Estilo para o corpo dos cards */
.dashboard-card .card-body {
    padding: 1rem;
    flex-grow: 1; /* Faz o corpo do card ocupar o espaço disponível */
}

/* Estilos para listas dentro dos cards, para um visual mais compacto */
.dashboard-card .list-group-item {
    padding: 0.6rem 1rem; /* Padding vertical menor */
    font-size: 0.9rem;    /* Fonte um pouco menor */
}

/* =================================
   PALETA DE CORES E VARIÁVEIS
   ================================= */
:root {
    --cor-primaria: #0d6efd;   /* Azul padrão do Bootstrap */
    --cor-sucesso: #198754;    /* Verde padrão do Bootstrap */
    --cor-aviso: #ffc107;      /* Amarelo padrão do Bootstrap */
    --cor-perigo: #dc3545;     /* Vermelho padrão do Bootstrap */
    --cor-texto: #212529;      /* Cor de texto principal */
    --cor-fundo-claro: #f8f9fa; /* Cinza bem claro para fundos */
    --cor-borda: #e9ecef;       /* Cor de borda sutil */
}

/* Exemplo de como usar as variáveis */
.dashboard-card {
    border-color: var(--cor-borda);
}

.dashboard-card .card-header {
    background-color: var(--cor-fundo-claro);
}

/* =================================
   ESTILOS DOS COMPONENTES DO PAINEL
   ================================= */

/* Define uma altura menor para as barras de progresso */
.progress-thin {
    height: 8px;
}

/* Classe para padronizar o tamanho dos ícones de recursos nas listas */
.resource-icon-list {
    width: 20px;
    height: 20px;
    object-fit: contain; /* Garante que a imagem não fique distorcida */
}

/* Classe para os badges de excedente, para dar uma cor diferente */
.badge-surplus {
    background-color: #0dcaf0; /* Cor ciano (info) do Bootstrap */
    color: #000;
}

/* Classe para os badges de défice, para dar uma cor de alerta */
.badge-shortfall {
    background-color: #ffc107; /* Cor amarela (warning) do Bootstrap */
    color: #000;
}

/* Itens da lista no card "Meta Final" com menos espaçamento vertical */
.compact-list-item {
    padding-top: 0.4rem;
    padding-bottom: 0.4rem;
    font-size: 0.85rem; /* Fonte ligeiramente menor */
}

/* Garante que o ícone na lista compacta fique bem alinhado */
.compact-list-item .resource-icon-list {
    width: 18px;
    height: 18px;
}


/* --- ESTILOS PARA O LAYOUT COMPACTO DA PRÓXIMA JORNADA --- */

.journey-list-item {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
}

.journey-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.25rem; /* Pequeno espaço antes da barra de progresso */
}

.journey-item-progress {
    position: relative;
    display: flex;
    align-items: center;
}

.progress-values {
    position: absolute;
    right: 0.5rem;
    font-size: 0.7em;
    font-weight: bold;
    color: white;
    background-color: rgba(0, 0, 0, 0.45);
    padding: 0.1rem 0.4rem;
    border-radius: 0.25rem;
    line-height: 1;
}

/* --- ESTILO PARA O DISPLAY DA IMAGEM DE EXPANSÃO --- */
.expansion-image-display {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    min-height: 220px;
}

/* Adiciona borda e melhora o espaçamento do conteúdo das abas */
.tab-content {
    border: 1px solid #dee2e6;
    border-top: none;
    border-radius: 0 0 .375rem .375rem;
}

/* --- ESTILOS PARA AS TABELAS DE INVENTÁRIO --- */

.accordion-item .table {
    font-size: 0.85rem;
}

.accordion-item .table thead th {
    background-color: #f8f9fa;
    font-weight: 600;
    border-bottom-width: 1px;
}

.accordion-button {
    font-size: 0.9rem;
    font-weight: bold !important;
}

/* --- ESTILOS PARA O LAYOUT MASONRY (ABORDAGEM COM SIZER) --- */

#inventory-grid {
    margin: 0 -8px; /* Compensa o padding dos itens para alinhar com o container */
}

/* O "Sizer" define a largura da coluna. Ele é invisível. */
.inventory-sizer {
    width: 33.3333%;
}

/* O card ocupa a mesma largura do sizer. */
#inventory-grid .inventory-card {
    width: 33.3333%;
    padding: 8px; /* Espaçamento entre os cards */
    /* Remove a margem que usávamos antes */
    margin-bottom: 0;
}

/* Media query para 2 colunas em telas menores */
@media (max-width: 992px) {
    .inventory-sizer,
    #inventory-grid .inventory-card {
        width: 50%;
    }
}

/* Media query para 1 coluna em telas de celular */
@media (max-width: 768px) {
    .inventory-sizer,
    #inventory-grid .inventory-card {
        width: 100%;
    }
}


/* --- ESTILOS PARA DRAG-AND-DROP (CONTINUAM OS MESMOS) --- */

.inventory-card .accordion-header {
    cursor: move;
}

.sortable-ghost {
    background: #f0f8ff;
    border: 2px dashed #add8e6;
    opacity: 0.7;
}

.sortable-ghost > * {
    visibility: hidden;
}